@media print{

    #list-toc-generated[data-toc-style="leaders"]{ 
        list-style: none;
        padding-left: 0px;
        --toc-indent: 3ch;
        --toc-bg: white;
    }

    #list-toc-generated{
        --toc-before-page: "";
    }

    #list-toc-generated .toc-element a::after{
        content: var(--toc-before-page) target-counter(attr(href), page);
        float: right;
    }

    #list-toc-generated[data-toc-style="leaders"] .toc-element-level-1{
        margin-top: 25px;
        font-weight: bold;
    }

    #list-toc-generated[data-toc-style="leaders"] .toc-element-level-2{
        margin-left: calc(var(--toc-indent)*1);
    }

    #list-toc-generated[data-toc-style="leaders"] .toc-element-level-3{
        margin-left: calc(var(--toc-indent)*2);
    }

    #list-toc-generated[data-toc-style="leaders"] .toc-element-level-4{
        margin-left: calc(var(--toc-indent)*3);
    }

    #list-toc-generated[data-toc-style="leaders"] .toc-element-level-5{
        margin-left: calc(var(--toc-indent)*4);
    }

    #list-toc-generated[data-toc-style="leaders"] .toc-element-level-6{
        margin-left: calc(var(--toc-indent)*5);
    }


    /* target-text(attr(href), before) doesn't work for now, replace with counters (see below)*/
    /* #list-toc-generated[data-toc-style="leaders"] .toc-element a::before{
        content: target-text(attr(href), before);
    } */

    /* counters */

    #list-toc-generated[data-toc-set-counter="true"]{ 
        counter-reset: counterTocLevel1; 
    }

    #list-toc-generated[data-toc-set-counter="true"] .toc-element-level-1:not(.no-counter){ 
        counter-increment: counterTocLevel1; 
        counter-reset: counterTocLevel2; 
    }

    #list-toc-generated[data-toc-set-counter="true"] .toc-element-level-1:not(.no-counter)::before{ 
        content: counter(counterTocLevel1) ". ";
        white-space: nowrap;
        padding-right: 5px;
    }

    #list-toc-generated[data-toc-set-counter="true"] .toc-element-level-2:not(.no-counter){ 
        counter-increment: counterTocLevel2; 
        counter-reset: counterTocLevel3;
    }

    #list-toc-generated[data-toc-set-counter="true"] .toc-element-level-2:not(.no-counter)::before{ 
        content: counter(counterTocLevel1) "." counter(counterTocLevel2) ". ";
        white-space: nowrap;
        padding-right: 5px;
    }

    #list-toc-generated[data-toc-set-counter="true"] .toc-element-level-3:not(.no-counter){ 
        counter-increment: counterTocLevel3; 
        counter-reset: counterTocLevel4;
    }

    #list-toc-generated[data-toc-set-counter="true"] .toc-element-level-3:not(.no-counter)::before{ 
        content: counter(counterTocLevel1) "." counter(counterTocLevel2) "." counter(counterTocLevel3) ". ";
        white-space: nowrap;
        padding-right: 5px;
    }

    #list-toc-generated[data-toc-set-counter="true"] .toc-element-level-4:not(.no-counter){ 
        counter-increment: counterTocLevel4; 
        counter-increment: counterTocLevel5; 
    }
    #list-toc-generated[data-toc-set-counter="true"] .toc-element-level-4:not(.no-counter)::before{ 
        content: counter(counterTocLevel1) "." counter(counterTocLevel2) "." counter(counterTocLevel3) "."counter(counterTocLevel4) ". ";
        white-space: nowrap;
        padding-right: 5px;
    }

    #list-toc-generated[data-toc-set-counter="true"] .toc-element-level-5:not(.no-counter){ 
        counter-increment: counterTocLevel5; 
        counter-increment: counterTocLevel6; 
    }
    #list-toc-generated[data-toc-set-counter="true"] .toc-element-level-5:not(.no-counter)::before{ 
        content: counter(counterTocLevel1) "." counter(counterTocLevel2) "." counter(counterTocLevel3) "." counter(counterTocLevel4) "." counter(counterTocLevel5) ". ";
        white-space: nowrap;
        padding-right: 5px;
    }

    #list-toc-generated[data-toc-set-counter="true"] .toc-element-level-6:not(.no-counter){ 
        counter-increment: counterTocLevel6; 
    }
    #list-toc-generated[data-toc-set-counter="true"] .toc-element-level-6:not(.no-counter)::before{ 
        content: counter(counterTocLevel1) "." counter(counterTocLevel2) "." counter(counterTocLevel3) "." counter(counterTocLevel4) "." counter(counterTocLevel5) "." counter(counterTocLevel6) ". ";
        white-space: nowrap;
        padding-right: 5px;
    }

    /*  leader() doesn't work for now, replace with the hack bellow */
    /* #list-toc-generated[data-toc-style="leaders"] .toc-element a::after{
        content: leader('.') " p. " target-counter(attr(href), page);
        float: right;
    } */

    /* hack for leaders */

    #list-toc-generated[data-toc-style="leaders"] .toc-element{
        overflow-x: hidden;
        position: relative;
    }

    #list-toc-generated[data-toc-style="leaders"] .toc-element::before{
        background-color: var(--toc-bg);
    }

    #list-toc-generated[data-toc-style="leaders"] .toc-element::after{
        content: ".................................................................................................................................................";
        /* float: left; */
        position: absolute;
        bottom: 0px;
        width: 0;
        padding-left: 5px;
        letter-spacing: 2px;
        z-index: -1;
    }

    #list-toc-generated[data-toc-style="leaders"] .toc-element{
        display: flex; 
    }



    #list-toc-generated[data-toc-style="leaders"] .toc-element a::after{
        text-decoration: underline var(--toc-bg) 3px;
        text-decoration-skip-ink: none;
        text-underline-offset: -2px;
        display: inline-block;
        text-align: right;
        justify-self: end;
        position: absolute;
        right: 0ch;
        bottom: 0px;
        background-color: var(--toc-bg);
        padding-left: 5px;

    }

    #list-toc-generated[data-toc-style="leaders"] .toc-element a{
        padding-right: 5ch; /* keep space for num */
        text-decoration: underline var(--toc-bg) 3px;
        text-decoration-skip-ink: none;
        text-underline-offset: -2px;
    }


    
} 

/* .toc-ignore {
  background: orange;
} */
